function setIndexEvents(){$("a.remove").click(function(e){$(this).parent().parent();confirm("Are you sure you want to remove "+$(this).data("name")+"?")&&$.ajax({type:"POST",url:$(this).data("url"),dataType:"script",data:{_method:"delete"},complete:function(){setIndexEvents()}}),e.stopPropagation()}),$("a.move").click(function(e){$(this),$(this).parent().parent();$.ajax({type:"POST",url:$(this).data("url"),dataType:"script",data:{_method:"PUT"},complete:function(){setIndexEvents()}}),e.stopPropagation()}),$("tr[data-link]").click(function(){window.location=this.dataset.link})}function setFileUpload(e){var t=$("#slideshow_form").data("max-height"),n=$("#slideshow_form").data("max-width");$(e).fileupload({url:$("#slideshow_form").data("url"),dataType:"script",disableImageResize:!1,imageMaxWidth:n,imageMaxHeight:t,uploadTemplateId:null,downloadTemplateId:null,add:function(e,t){var n=$(this);t.process(function(){return n.fileupload("process",t)}).done(function(){t.submit()})},process:[{action:"load",fileTypes:/^image\/(gif|jp?g)$/,maxFileSize:2e7},{action:"resize",imageMaxWidth:1500,imageMaxHeight:500},{action:"save"}]})}$(document).ready(function(){$(".file-upload").length&&setFileUpload(".file-upload"),setIndexEvents()});